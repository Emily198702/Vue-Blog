{"remainingRequest":"/Users/xuying/VueProjects/hello-world/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xuying/VueProjects/hello-world/src/components/ManageList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xuying/VueProjects/hello-world/src/components/ManageList.vue","mtime":1563956435000},{"path":"/Users/xuying/VueProjects/hello-world/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuying/VueProjects/hello-world/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xuying/VueProjects/hello-world/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuying/VueProjects/hello-world/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nimport qs from 'qs'\n\nexport default {\n    data(){\n        return {\n            typeList:[],\n            blogList:[],\n            title:\"Hello\"\n        }\n    },\n    methods:{\n         getType(){\n            let _this = this\n            //console.log(\"list\")\n            axios.get('http://localhost:8000/blogType')\n            .then(function (response) {\n                //console.log(response.data);          \n                _this.typeList = response.data;\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n \n         },\n\n         getList(){\n            let _this = this\n            console.log(\"list\")\n            axios.get('http://localhost:8000/blogs')\n            .then(function (response) {  \n                _this.blogList = response.data;\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n         },\n\n         newBlog(){\n            this.$router.push(\"/newBlog\")\n         },\n\n         edit(id){\n             this.$router.push(\"/newBlog/\"+id)\n         },\n\n         del(id){\n            console.log(id)\n            let data = {id : id}\n            axios.post('http://localhost:8000/delBlog',qs.stringify(data))\n            .then(res=>{\n                console.log('res=>',res);\n                if(res.data == 1){\n                    this.$Message.info('删除成功！');\n                    this.getList()\n                }else{\n                    this.$Message.info('删除失败！');\n                }           \n            })\n         },\n\n    },\n    mounted(){\n        this.getList()\n        this.getType()\n        \n    }\n\n}\n",{"version":3,"sources":["ManageList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA","file":"ManageList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    \n    <div class=\"blogbody\">\n        <div><h1>{{ title }}</h1>\n            <button v-on:click=\"newBlog\">新建</button>\n        </div>\n        \n        <div class=\"column1\">\n            \n            <div class=\"connBody\">\n                <ul>\n                    <li v-for=\"type in typeList\"  v-bind:key=\"type.id\">\n                        <span class=\"\" >{{type.value}}</span> \n                    </li>\n                </ul>\n            \n            </div>\n\n        </div>\n        <div class=\"column2 \">\n            \n            <ul>\n                <li v-for=\"blog in blogList\" class=\"blog-li\" v-bind:key=\"blog.id\">\n                     \n                    <a class=\"\" >{{blog.title}}</a> \n                    <span> \n                        <a class=\"blog-edit\" v-on:click=\"edit(blog.id)\">编辑</a> \n                        |<a class=\"blog-edit\" v-on:click=\"del(blog.id)\">删除</a> \n                    </span>\n                    \n                </li>\n            </ul>\n\n        </div>\n\n    </div>\n</template>\n\n\n<script>\nimport axios from 'axios'\nimport qs from 'qs'\n\nexport default {\n    data(){\n        return {\n            typeList:[],\n            blogList:[],\n            title:\"Hello\"\n        }\n    },\n    methods:{\n         getType(){\n            let _this = this\n            //console.log(\"list\")\n            axios.get('http://localhost:8000/blogType')\n            .then(function (response) {\n                //console.log(response.data);          \n                _this.typeList = response.data;\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n \n         },\n\n         getList(){\n            let _this = this\n            console.log(\"list\")\n            axios.get('http://localhost:8000/blogs')\n            .then(function (response) {  \n                _this.blogList = response.data;\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n         },\n\n         newBlog(){\n            this.$router.push(\"/newBlog\")\n         },\n\n         edit(id){\n             this.$router.push(\"/newBlog/\"+id)\n         },\n\n         del(id){\n            console.log(id)\n            let data = {id : id}\n            axios.post('http://localhost:8000/delBlog',qs.stringify(data))\n            .then(res=>{\n                console.log('res=>',res);\n                if(res.data == 1){\n                    this.$Message.info('删除成功！');\n                    this.getList()\n                }else{\n                    this.$Message.info('删除失败！');\n                }           \n            })\n         },\n\n    },\n    mounted(){\n        this.getList()\n        this.getType()\n        \n    }\n\n}\n</script>\n\n\n<style>\n\n.blogbody {\n    width: 950px;\n    clear: both;\n    margin: 0 auto;\n    z-index: 10; \n}\n\n.column1{\n    width: 210px;\n    display: inline; \n    overflow: hidden;\n    float: left;\n    border:2px solid #f4f4f4;\n}\n\n\n.column2{\n    width: 730px;\n    display: inline; \n    overflow: hidden;\n    float: left;\n    border:2px solid #f4f4f4;\n}\n\n.connHead{\n    display: flex;\n    justify-content:space-between;\n    color:#767775;\n    height: 26px;\n    overflow: hidden;\n    background-color:#f4f4f4;\n    font-family: \"宋体\",sans-serif;\n    font-size: 12px; \n    font-weight: 700;\n}\n\na.blog-edit {\n    font-family: \"宋体\";\n    font-size: 12px;\n    font-weight: 400;\n    white-space: nowrap;\n    zoom: 1;\n    color: red;\n}\n\n \n\n.connBody{\n    color: green;\n    padding-top: 15px;\n    clear: both;\n    padding: 10px 6px;\n    zoom: 1;\n    overflow: hidden;\n    \n}\n\n.blog-li{\n    display: flex;\n    justify-content:space-between;\n    height: 26px;\n    padding-top: 8px;\n    border-bottom: 1px dotted blue;\n}\n\n \n</style>\n\n"]}]}