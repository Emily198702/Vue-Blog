{"remainingRequest":"/Users/xuying/VueProjects/hello-world/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xuying/VueProjects/hello-world/src/components/NewBlog.vue?vue&type=style&index=0&id=8d51a33c&scoped=true&lang=css&","dependencies":[{"path":"/Users/xuying/VueProjects/hello-world/src/components/NewBlog.vue","mtime":1568080105000},{"path":"/Users/xuying/VueProjects/hello-world/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/xuying/VueProjects/hello-world/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/xuying/VueProjects/hello-world/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/xuying/VueProjects/hello-world/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuying/VueProjects/hello-world/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n\n.blogEditor {\n    margin:20px auto;\n}\n\n.blogEditor .div1{\n    width: 910px;\n    margin: 0 auto;\n    padding: 2px 0; \n    overflow: hidden;\n}\n\n.btn-div{\n    margin-top: 50px;\n    text-align: center;\n}\n\n\n\n",{"version":3,"sources":["NewBlog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"NewBlog.vue","sourceRoot":"src/components","sourcesContent":["\n<template lang=\"html\"> \n    <div class=\"blogEditor\">\n        <div class=\"div1\"><label>标题：</label>\n            <Input v-model=\"blog.title\" clearable style=\"width: 500px\" /></div>\n        <div class=\"div1\"> \n           <Input v-model=\"blog.content\" type=\"textarea\" :rows=\"10\" placeholder=\"内容\" clearable style=\"width: 800px\" />\n\n        </div>\n        <div class=\"div1\">\n            <label>分类：</label>\n            <Select v-model=\"blog.blogType\" style=\"width:200px\">\n                <Option v-for=\"type in typeList\" :value=\"type.code\" :key=\"type.id\"> {{ type.value }}</Option>\n            </Select>\n         </div>\n      \n        <div class=\"btn-div\">\n            <Button type=\"primary\" @click=\"submitForm\">发博文</Button>\n        </div>\n   </div>\n</template>\n \n\n<script>\n\nimport axios from 'axios'\nimport qs from 'qs' \nimport { Message,Button } from 'iview';\nimport { type } from 'os';\n \n\n \nexport default {\n \n    data(){ \n    return {\n         blog:{\n             title:\"\",\n             content:\"\",\n             blogType:\"\",\n\n         },\n         typeList:[],\n         isEdit:false\n\n        }\n    },\n    methods:{\n\n        submitForm(){ \n            if(this.isEdit){\n                console.log(this.blog)\n                axios.post('http://localhost:8000/updateBlog',this.blog)\n                .then(res=>{\n                    console.log('res=>',res);\n                    if(res.data == 1){\n                        this.$Message.info('修改成功！');\n                        this.$router.push(\"/manageList\")\n                    }            \n                })\n                \n            }else{ \n                axios.post('http://localhost:8000/newBlog',this.blog)\n                .then(res=>{\n                    console.log('res=>',res);\n                    if(res.data == 1){\n                        this.$Message.info('保存成功！');\n                        this.$router.push(\"/manageList\")\n                    }            \n                })\n            }\n\n        },\n\n        getType(){\n            let _this = this \n            axios.get('http://localhost:8000/blogType')\n            .then(function (response) { \n                _this.typeList = response.data;\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n \n         },\n\n        handleChange (html, text) {\n            console.log(html, text)\n        },\n\n         \n    },\n    mounted(){\n        console.log(\"new mounted\")\n        if(this.$route.params.id){\n            this.isEdit = true\n            let id = this.$route.params.id\n            let _this = this\n            axios.get('http://localhost:8000/blog?id='+id)\n            .then(function (response) {  \n                _this.blog = response.data;\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n\n        }\n         \n        this.getType()\n        \n    }\n}\n</script>\n\n\n<style scoped> \n\n.blogEditor {\n    margin:20px auto;\n}\n\n.blogEditor .div1{\n    width: 910px;\n    margin: 0 auto;\n    padding: 2px 0; \n    overflow: hidden;\n}\n\n.btn-div{\n    margin-top: 50px;\n    text-align: center;\n}\n\n\n\n</style>\n\n"]}]}