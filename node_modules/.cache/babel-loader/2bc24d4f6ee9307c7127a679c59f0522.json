{"remainingRequest":"/Users/xuying/VueProjects/gblog/node_modules/babel-loader/lib/index.js!/Users/xuying/VueProjects/gblog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xuying/VueProjects/gblog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xuying/VueProjects/gblog/src/components/NewBlog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xuying/VueProjects/gblog/src/components/NewBlog.vue","mtime":1568080105000},{"path":"/Users/xuying/VueProjects/gblog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuying/VueProjects/gblog/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xuying/VueProjects/gblog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuying/VueProjects/gblog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport qs from 'qs';\nimport { Message, Button } from 'iview';\nimport { type } from 'os';\nexport default {\n  data: function data() {\n    return {\n      blog: {\n        title: \"\",\n        content: \"\",\n        blogType: \"\"\n      },\n      typeList: [],\n      isEdit: false\n    };\n  },\n  methods: {\n    submitForm: function submitForm() {\n      var _this2 = this;\n\n      if (this.isEdit) {\n        console.log(this.blog);\n        axios.post('http://localhost:8000/updateBlog', this.blog).then(function (res) {\n          console.log('res=>', res);\n\n          if (res.data == 1) {\n            _this2.$Message.info('修改成功！');\n\n            _this2.$router.push(\"/manageList\");\n          }\n        });\n      } else {\n        axios.post('http://localhost:8000/newBlog', this.blog).then(function (res) {\n          console.log('res=>', res);\n\n          if (res.data == 1) {\n            _this2.$Message.info('保存成功！');\n\n            _this2.$router.push(\"/manageList\");\n          }\n        });\n      }\n    },\n    getType: function getType() {\n      var _this = this;\n\n      axios.get('http://localhost:8000/blogType').then(function (response) {\n        _this.typeList = response.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    handleChange: function handleChange(html, text) {\n      console.log(html, text);\n    }\n  },\n  mounted: function mounted() {\n    console.log(\"new mounted\");\n\n    if (this.$route.params.id) {\n      this.isEdit = true;\n      var id = this.$route.params.id;\n\n      var _this = this;\n\n      axios.get('http://localhost:8000/blog?id=' + id).then(function (response) {\n        _this.blog = response.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n\n    this.getType();\n  }\n};",{"version":3,"sources":["NewBlog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,EAAA,MAAA,IAAA;AACA,SAAA,OAAA,EAAA,MAAA,QAAA,OAAA;AACA,SAAA,IAAA,QAAA,IAAA;AAIA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA;AAOA,MAAA,QAAA,EAAA,EAPA;AAQA,MAAA,MAAA,EAAA;AARA,KAAA;AAWA,GAdA;AAeA,EAAA,OAAA,EAAA;AAEA,IAAA,UAFA,wBAEA;AAAA;;AACA,UAAA,KAAA,MAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,kCAAA,EAAA,KAAA,IAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,GAAA;;AACA,cAAA,GAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA;;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,aAAA;AACA;AACA,SAPA;AASA,OAXA,MAWA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,+BAAA,EAAA,KAAA,IAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,GAAA;;AACA,cAAA,GAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA;;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,aAAA;AACA;AACA,SAPA;AAQA;AAEA,KAzBA;AA2BA,IAAA,OA3BA,qBA2BA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,gCAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAHA,EAIA,KAJA,CAIA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OANA;AAQA,KArCA;AAuCA,IAAA,YAvCA,wBAuCA,IAvCA,EAuCA,IAvCA,EAuCA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,EAAA,IAAA;AACA;AAzCA,GAfA;AA4DA,EAAA,OA5DA,qBA4DA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,aAAA;;AACA,QAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,UAAA,EAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,mCAAA,EAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAHA,EAIA,KAJA,CAIA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OANA;AAQA;;AAEA,SAAA,OAAA;AAEA;AA9EA,CAAA","sourcesContent":["\n<template lang=\"html\"> \n    <div class=\"blogEditor\">\n        <div class=\"div1\"><label>标题：</label>\n            <Input v-model=\"blog.title\" clearable style=\"width: 500px\" /></div>\n        <div class=\"div1\"> \n           <Input v-model=\"blog.content\" type=\"textarea\" :rows=\"10\" placeholder=\"内容\" clearable style=\"width: 800px\" />\n\n        </div>\n        <div class=\"div1\">\n            <label>分类：</label>\n            <Select v-model=\"blog.blogType\" style=\"width:200px\">\n                <Option v-for=\"type in typeList\" :value=\"type.code\" :key=\"type.id\"> {{ type.value }}</Option>\n            </Select>\n         </div>\n      \n        <div class=\"btn-div\">\n            <Button type=\"primary\" @click=\"submitForm\">发博文</Button>\n        </div>\n   </div>\n</template>\n \n\n<script>\n\nimport axios from 'axios'\nimport qs from 'qs' \nimport { Message,Button } from 'iview';\nimport { type } from 'os';\n \n\n \nexport default {\n \n    data(){ \n    return {\n         blog:{\n             title:\"\",\n             content:\"\",\n             blogType:\"\",\n\n         },\n         typeList:[],\n         isEdit:false\n\n        }\n    },\n    methods:{\n\n        submitForm(){ \n            if(this.isEdit){\n                console.log(this.blog)\n                axios.post('http://localhost:8000/updateBlog',this.blog)\n                .then(res=>{\n                    console.log('res=>',res);\n                    if(res.data == 1){\n                        this.$Message.info('修改成功！');\n                        this.$router.push(\"/manageList\")\n                    }            \n                })\n                \n            }else{ \n                axios.post('http://localhost:8000/newBlog',this.blog)\n                .then(res=>{\n                    console.log('res=>',res);\n                    if(res.data == 1){\n                        this.$Message.info('保存成功！');\n                        this.$router.push(\"/manageList\")\n                    }            \n                })\n            }\n\n        },\n\n        getType(){\n            let _this = this \n            axios.get('http://localhost:8000/blogType')\n            .then(function (response) { \n                _this.typeList = response.data;\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n \n         },\n\n        handleChange (html, text) {\n            console.log(html, text)\n        },\n\n         \n    },\n    mounted(){\n        console.log(\"new mounted\")\n        if(this.$route.params.id){\n            this.isEdit = true\n            let id = this.$route.params.id\n            let _this = this\n            axios.get('http://localhost:8000/blog?id='+id)\n            .then(function (response) {  \n                _this.blog = response.data;\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n\n        }\n         \n        this.getType()\n        \n    }\n}\n</script>\n\n\n<style scoped> \n\n.blogEditor {\n    margin:20px auto;\n}\n\n.blogEditor .div1{\n    width: 910px;\n    margin: 0 auto;\n    padding: 2px 0; \n    overflow: hidden;\n}\n\n.btn-div{\n    margin-top: 50px;\n    text-align: center;\n}\n\n\n\n</style>\n\n"],"sourceRoot":"src/components"}]}